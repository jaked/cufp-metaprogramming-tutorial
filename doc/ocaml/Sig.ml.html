<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.37 in css mode. -->
<html>
  <head>
    <title>Sig.ml</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <pre>
<span class="comment">(* camlp4r *)</span>
<span class="comment">(****************************************************************************)</span>
<span class="comment">(*                                                                          *)</span>
<span class="comment">(*                              Objective Caml                              *)</span>
<span class="comment">(*                                                                          *)</span>
<span class="comment">(*                            INRIA Rocquencourt                            *)</span>
<span class="comment">(*                                                                          *)</span>
<span class="comment">(*  Copyright  2006   Institut National de Recherche  en  Informatique et   *)</span>
<span class="comment">(*  en Automatique.  All rights reserved.  This file is distributed under   *)</span>
<span class="comment">(*  the terms of the GNU Library General Public License, with the special   *)</span>
<span class="comment">(*  exception on linking described in LICENSE at the top of the Objective   *)</span>
<span class="comment">(*  Caml source tree.                                                       *)</span>
<span class="comment">(*                                                                          *)</span>
<span class="comment">(****************************************************************************)</span>

<span class="comment">(* Authors:
 * - Daniel de Rauglaudre: initial version
 * - Nicolas Pouillard: refactoring
 *)</span>



<span class="doc">(** Camlp4 signature repository *)</span>

<span class="doc">(** {6 Basic signatures} *)</span>

<span class="doc">(** Signature with just a type. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Type </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">t</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** Signature for errors modules, an Error modules can be registred with
    the {!ErrorHandler.Register} functor in order to be well printed. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Error </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">t</span><span class="tuareg-font-lock-operator">;</span>
  <span class="keyword">exception</span> <span class="variable-name">E</span> <span class="tuareg-font-lock-operator">of</span> t<span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">to_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">print</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** A signature for extensions identifiers. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Id </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>

  <span class="doc">(** The name of the extension, typically the module name. *)</span>
  value <span class="variable-name">name</span>    <span class="tuareg-font-lock-operator">:</span> <span class="type">string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** The version of the extension, typically $ Id$ with a versionning system. *)</span>
  value <span class="variable-name">version</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string</span><span class="tuareg-font-lock-operator">;</span>

<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** A signature for warnings abstract from locations. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="type">Warning </span><span class="tuareg-font-lock-operator">(</span><span class="variable-name">Loc</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Type</span><span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">struct</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">S </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">warning </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Loc</span>.t <span class="tuareg-font-lock-operator">-&gt;</span> string <span class="tuareg-font-lock-operator">-&gt;</span> unit<span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">default_warning</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">warning</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">current_warning</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">ref</span><span class="type"> warning</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">print_warning</span>   <span class="tuareg-font-lock-operator">:</span> <span class="type">warning</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** {6 Advanced signatures} *)</span>

<span class="doc">(** A signature for locations. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Loc </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>

  <span class="tuareg-font-lock-governing">type</span> <span class="type">t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return a start location for the given file name.
      This location starts at the begining of the file. *)</span>
  value <span class="variable-name">mk</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** The [ghost] location can be used when no location
      information is available. *)</span>
  value <span class="variable-name">ghost</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** {6 Conversion functions} *)</span>

  <span class="doc">(** Return a location where both positions are set the given position. *)</span>
  value <span class="variable-name">of_lexing_position</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Lexing.position </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return an OCaml location. *)</span>
  value <span class="variable-name">to_ocaml_location</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Camlp4_import.Location.t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return a location from an OCaml location. *)</span>
  value <span class="variable-name">of_ocaml_location</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Camlp4_import.Location.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return a location from ocamllex buffer. *)</span>
  value <span class="variable-name">of_lexbuf</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Lexing.lexbuf </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return a location from [(file_name, start_line, start_bol, start_off,
      stop_line,  stop_bol,  stop_off, ghost)]. *)</span>
  value <span class="variable-name">of_tuple</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">string </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return [(file_name, start_line, start_bol, start_off,
      stop_line,  stop_bol,  stop_off, ghost)]. *)</span>
  value <span class="variable-name">to_tuple</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">string </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> int </span><span class="tuareg-font-lock-operator">*</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">);</span>

  <span class="doc">(** [merge loc1 loc2] Return a location that starts at [loc1] and end at [loc2]. *)</span>
  value <span class="variable-name">merge</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** The stop pos becomes equal to the start pos. *)</span>
  value <span class="variable-name">join</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [move selector n loc]
      Return the location where positions are moved.
      Affected positions are chosen with [selector].
      Returned positions have their character offset plus [n]. *)</span>
  value <span class="variable-name">move</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">[=</span> `start <span class="tuareg-font-lock-operator">|</span> `stop <span class="tuareg-font-lock-operator">|</span> `both <span class="tuareg-font-lock-operator">]</span> <span class="tuareg-font-lock-operator">-&gt;</span> int <span class="tuareg-font-lock-operator">-&gt;</span> t <span class="tuareg-font-lock-operator">-&gt;</span> t<span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [shift n loc] Return the location where the new start position is the old
      stop position, and where the new stop position character offset is the
      old one plus [n]. *)</span>
  value <span class="variable-name">shift</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">int </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [move_line n loc] Return the location with the old line count plus [n].
      The "begin of line" of both positions become the current offset. *)</span>
  value <span class="variable-name">move_line</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">int </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** {6 Accessors} *)</span>

  <span class="doc">(** Return the file name *)</span>
  value <span class="variable-name">file_name</span>  <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return the line number of the begining of this location. *)</span>
  value <span class="variable-name">start_line</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return the line number of the ending of this location. *)</span>
  value <span class="variable-name">stop_line</span>  <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Returns the number of characters from the begining of the file
      to the begining of the line of location's begining. *)</span>
  value <span class="variable-name">start_bol</span>  <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Returns the number of characters from the begining of the file
      to the begining of the line of location's ending. *)</span>
  value <span class="variable-name">stop_bol</span>   <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Returns the number of characters from the begining of the file
      of the begining of this location. *)</span>
  value <span class="variable-name">start_off</span>  <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return the number of characters from the begining of the file
      of the ending of this location. *)</span>
  value <span class="variable-name">stop_off</span>   <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return the start position as a Lexing.position. *)</span>
  value <span class="variable-name">start_pos</span>  <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Lexing.position</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return the stop position as a Lexing.position. *)</span>
  value <span class="variable-name">stop_pos</span>   <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Lexing.position</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Generally, return true if this location does not come
      from an input stream. *)</span>
  value <span class="variable-name">is_ghost</span>   <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return the associated ghost location. *)</span>
  value <span class="variable-name">ghostify</span>   <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return the location with the give file name *)</span>
  value <span class="variable-name">set_file_name</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [strictly_before loc1 loc2] True if the stop position of [loc1] is
      strictly_before the start position of [loc2]. *)</span>
  value <span class="variable-name">strictly_before</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Return the location with an absolute file name. *)</span>
  value <span class="variable-name">make_absolute</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Print the location into the formatter in a format suitable for error
      reporting. *)</span>
  value <span class="variable-name">print</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Print the location in a short format useful for debugging. *)</span>
  value <span class="variable-name">dump</span>  <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Same as {!print} but return a string instead of printting it. *)</span>
  value <span class="variable-name">to_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [Exc_located loc e] is an encapsulation of the exception [e] with
      the input location [loc]. To be used in quotation expanders
      and in grammars to specify some input location for an error.
      Do not raise this exception directly: rather use the following
      function [Loc.raise]. *)</span>
  <span class="keyword">exception</span> <span class="variable-name">Exc_located</span> <span class="tuareg-font-lock-operator">of</span> t <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">exn</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [raise loc e], if [e] is already an [Exc_located] exception,
      re-raise it, else raise the exception [Exc_located loc e]. *)</span>
  value <span class="keyword">raise</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> exn </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** The name of the location variable used in grammars and in
      the predefined quotations for OCaml syntax trees. Default: [_loc]. *)</span>
  value <span class="variable-name">name</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">ref</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** Abstract syntax tree minimal signature.
    Types of this signature are abstract.
    See the {!Camlp4Ast} signature for a concrete definition. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Ast </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>

  <span class="doc">(** {6 Syntactic categories as abstract types} *)</span>

  <span class="tuareg-font-lock-governing">type</span> <span class="type">loc</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">meta_bool</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">meta_option </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">meta_list </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">ctyp</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">patt</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">expr</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">module_type</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">sig_item</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">with_constr</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">module_expr</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">str_item</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">class_type</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">class_expr</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">class_str_item</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">match_case</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">ident</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">binding</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">module_binding</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">rec_flag</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">direction_flag</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">mutable_flag</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">private_flag</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">virtual_flag</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">row_var_flag</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">override_flag</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** {6 Location accessors} *)</span>

  value <span class="variable-name">loc_of_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_module_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">module_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_module_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_class_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_class_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_class_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_class_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_with_constr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_rec_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_module_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_match_case</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_ident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** {6 Traversals} *)</span>

  <span class="doc">(** This class is the base class for map traversal on the Ast.
      To make a custom traversal class one just extend it like that:

      This example swap pairs expression contents:
      open Camlp4.PreCast;
      [class swap = object
        inherit Ast.map as super;
        method expr e =
          match super#expr e with
          \[ &lt;:expr\@_loc&lt; ($e1$, $e2$) &gt;&gt; -&gt; &lt;:expr&lt; ($e2$, $e1$) &gt;&gt;
          | e -&gt; e \];
      end;
      value _loc = Loc.ghost;
      value map = (new swap)#expr;
      assert (map &lt;:expr&lt; fun x -&gt; (x, 42) &gt;&gt; = &lt;:expr&lt; fun x -&gt; (42, x) &gt;&gt;);]
  *)</span>
  <span class="tuareg-font-lock-governing">class</span> <span class="variable-name">map </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">object</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">)</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">string</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">list</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">'</span>b . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> list <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> list <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_bool</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">meta_bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> meta_bool</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_option</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">'</span>b . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> meta_option <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> meta_option <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_list</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">'</span>b . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> meta_list <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> meta_list <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">loc</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">patt</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">ctyp</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">str_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> str_item</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">sig_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> sig_item</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_type</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_type</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_sig_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_str_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_str_item</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">with_constr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> with_constr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> binding</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">rec_binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_binding</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_binding</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">match_case</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> match_case</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">ident</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">override_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">override_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> override_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">mutable_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">mutable_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> mutable_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">private_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">private_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> private_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">virtual_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">virtual_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> virtual_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">direction_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">direction_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> direction_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">rec_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">rec_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">row_var_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">row_var_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> row_var_flag</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">unknown</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a. <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Fold style traversal *)</span>
  <span class="tuareg-font-lock-governing">class</span> <span class="variable-name">fold </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">object</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">)</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">string</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">list</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> list <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_bool</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">meta_bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_option</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> meta_option <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_list</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> meta_list <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">loc</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">patt</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">ctyp</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">str_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">sig_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_type</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_type</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_sig_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_str_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">with_constr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">rec_binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">match_case</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">ident</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">rec_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">rec_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">direction_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">direction_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">mutable_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">mutable_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">private_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">private_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">virtual_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">virtual_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">row_var_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">row_var_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">override_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">override_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">unknown</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a. <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>


<span class="doc">(** Signature for OCaml syntax trees. *)</span> <span class="comment">(*
    This signature is an extension of {!Ast}
    It provides:
      - Types for all kinds of structure.
      - Map: A base class for map traversals.
      - Map classes and functions for common kinds.

    == Core language ==
    ctyp               :: Representaion of types
    patt               :: The type of patterns
    expr               :: The type of expressions
    match_case         :: The type of cases for match/function/try constructions
    ident              :: The type of identifiers (including path like Foo(X).Bar.y)
    binding            :: The type of let bindings
    rec_binding        :: The type of record definitions

    == Modules ==
    module_type        :: The type of module types
    sig_item           :: The type of signature items
    str_item           :: The type of structure items
    module_expr        :: The type of module expressions
    module_binding     :: The type of recursive module definitions
    with_constr        :: The type of `with' constraints

    == Classes ==
    class_type         :: The type of class types
    class_sig_item     :: The type of class signature items
    class_expr         :: The type of class expressions
    class_str_item     :: The type of class structure items
 *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Camlp4Ast </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>

  <span class="doc">(** The inner module for locations *)</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Loc </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Loc</span><span class="tuareg-font-lock-operator">;</span>

  INCLUDE <span class="string">"camlp4/Camlp4/Camlp4Ast.partial.ml"</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">loc_of_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_module_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">module_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_module_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_class_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_class_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_class_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_class_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_with_constr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_rec_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_module_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_match_case</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">loc_of_ident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Meta </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">META_LOC </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
      <span class="comment">(* The first location is where to put the returned pattern.
          Generally it's _loc to match with &lt;:patt&lt; ... &gt;&gt; quotations.
          The second location is the one to treat. *)</span>
      value <span class="variable-name">meta_loc_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
      <span class="comment">(* The first location is where to put the returned expression.
          Generally it's _loc to match with &lt;:expr&lt; ... &gt;&gt; quotations.
          The second location is the one to treat. *)</span>
      value <span class="variable-name">meta_loc_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="type">MetaLoc </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
      value <span class="variable-name">meta_loc_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
      value <span class="variable-name">meta_loc_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="type">MetaGhostLoc </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
      value <span class="variable-name">meta_loc_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
      value <span class="variable-name">meta_loc_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="type">MetaLocVar </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
      value <span class="variable-name">meta_loc_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
      value <span class="variable-name">meta_loc_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="type">Make </span><span class="tuareg-font-lock-operator">(</span><span class="variable-name">MetaLoc</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">META_LOC</span><span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
      <span class="tuareg-font-lock-governing">module</span> <span class="type">Expr </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
        value <span class="variable-name">meta_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_int</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_float</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_char</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_bool</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_rec_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_class_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_class_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_class_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_class_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_ident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_match_case</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_module_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_module_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_module_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_with_constr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_rec_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_mutable_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> mutable_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_virtual_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> virtual_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_private_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> private_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_row_var_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> row_var_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_override_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> override_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_direction_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> direction_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
      <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
      <span class="tuareg-font-lock-governing">module</span> <span class="type">Patt </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
        value <span class="variable-name">meta_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_int</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_float</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_char</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_bool</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_rec_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_class_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_class_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_class_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_class_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_ident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_match_case</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_module_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_module_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_module_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_with_constr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_rec_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_mutable_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> mutable_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_virtual_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> virtual_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_private_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> private_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_row_var_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> row_var_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_override_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> override_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
        value <span class="variable-name">meta_direction_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> direction_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
      <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** See {!Ast.map}. *)</span>
  <span class="tuareg-font-lock-governing">class</span> <span class="variable-name">map </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">object</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">)</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">string</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">list</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">'</span>b . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> list <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> list <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_bool</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">meta_bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> meta_bool</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_option</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">'</span>b . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> meta_option <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> meta_option <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_list</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">'</span>b . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> meta_list <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> meta_list <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">loc</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">patt</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">ctyp</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">str_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> str_item</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">sig_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> sig_item</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_type</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_expr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_type</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_sig_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_str_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_str_item</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">with_constr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> with_constr</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> binding</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">rec_binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_binding</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_binding</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">match_case</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> match_case</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">ident</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">mutable_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">mutable_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> mutable_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">private_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">private_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> private_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">virtual_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">virtual_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> virtual_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">direction_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">direction_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> direction_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">rec_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">rec_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">row_var_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">row_var_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> row_var_flag</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">override_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">override_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> override_flag</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">unknown</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a. <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** See {!Ast.fold}. *)</span>
  <span class="tuareg-font-lock-governing">class</span> <span class="variable-name">fold </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">object</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">)</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">string</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">list</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> list <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_bool</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">meta_bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_option</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> meta_option <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">meta_list</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a . <span class="tuareg-font-lock-operator">('</span>self_type <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> meta_list <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">loc</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">patt</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">ctyp</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">str_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">sig_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_type</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_expr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_type</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_sig_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">class_str_item</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">with_constr</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">rec_binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">module_binding</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">match_case</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">ident</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">rec_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">rec_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">direction_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">direction_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">mutable_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">mutable_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">private_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">private_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">virtual_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">virtual_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">row_var_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">row_var_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">override_flag</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">override_flag </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">self_type</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">method</span> <span class="function-name">unknown</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">!</span> <span class="tuareg-font-lock-operator">'</span>a. <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>self_type<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">map_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> map</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">map_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> map</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">map_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> map</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">map_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> str_item</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> map</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">map_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> sig_item</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> map</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">map_loc</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> loc</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> map</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">ident_of_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ident_of_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ident_of_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">biAnd_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">rbSem_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">paSem_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">paCom_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">tyOr_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">tyAnd_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">tyAmp_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">tySem_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">tyCom_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">tySta_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">stSem_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sgSem_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">crSem_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">cgSem_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ctAnd_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ceAnd_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">wcAnd_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> with_constr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">meApp_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">mbAnd_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> module_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">mcOr_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> match_case</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">idAcc_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">idApp_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">exSem_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">exCom_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">list_of_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_rec_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list rec_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_with_constr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list with_constr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list with_constr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_class_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list class_sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_class_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list class_str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list class_str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_class_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list class_type </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_class_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list class_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_module_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list module_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list module_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_module_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list module_binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list module_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_match_case</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list match_case </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list match_case</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">list_of_ident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list ident</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Like [String.escape] but takes care to not
      escape antiquotations strings. *)</span>
  value <span class="variable-name">safe_string_escaped</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Returns True if the given pattern is irrefutable. *)</span>
  value <span class="variable-name">is_irrefut_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">is_constructor</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">ident </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">is_patt_constructor</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">is_expr_constructor</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">ty_of_stl</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Loc.t </span><span class="tuareg-font-lock-operator">*</span><span class="type"> string </span><span class="tuareg-font-lock-operator">*</span><span class="type"> list ctyp</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ty_of_sbt</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Loc.t </span><span class="tuareg-font-lock-operator">*</span><span class="type"> string </span><span class="tuareg-font-lock-operator">*</span><span class="type"> bool </span><span class="tuareg-font-lock-operator">*</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">bi_of_pe</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">patt </span><span class="tuareg-font-lock-operator">*</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">pel_of_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">binding </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list </span><span class="tuareg-font-lock-operator">(</span><span class="type">patt </span><span class="tuareg-font-lock-operator">*</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">binding_of_pel</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list </span><span class="tuareg-font-lock-operator">(</span><span class="type">patt </span><span class="tuareg-font-lock-operator">*</span><span class="type"> expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sum_type_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list </span><span class="tuareg-font-lock-operator">(</span><span class="type">Loc.t </span><span class="tuareg-font-lock-operator">*</span><span class="type"> string </span><span class="tuareg-font-lock-operator">*</span><span class="type"> list ctyp</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">record_type_of_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">list </span><span class="tuareg-font-lock-operator">(</span><span class="type">Loc.t </span><span class="tuareg-font-lock-operator">*</span><span class="type"> string </span><span class="tuareg-font-lock-operator">*</span><span class="type"> bool </span><span class="tuareg-font-lock-operator">*</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> ctyp</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** This functor is a restriction functor.
    It takes a Camlp4Ast module and gives the Ast one.
    Typical use is for [with] constraints.
    Example: ... with module Ast = Camlp4.Sig.Camlp4AstToAst Camlp4Ast *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="type">Camlp4AstToAst </span><span class="tuareg-font-lock-operator">(</span><span class="variable-name">M</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Camlp4Ast</span><span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Ast</span>
  <span class="tuareg-font-lock-governing">with type</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.loc
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> meta_bool </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.meta_bool
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> meta_option </span><span class="tuareg-font-lock-operator">'</span><span class="variable-name">a </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.meta_option <span class="tuareg-font-lock-operator">'</span>a
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> meta_list </span><span class="tuareg-font-lock-operator">'</span><span class="variable-name">a </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.meta_list <span class="tuareg-font-lock-operator">'</span>a
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> ctyp </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.ctyp
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> patt </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.patt
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> expr </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.expr
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> module_type </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.module_type
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> sig_item </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.sig_item
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> with_constr </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.with_constr
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> module_expr </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.module_expr
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> str_item </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.str_item
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> class_type </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.class_type
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> class_sig_item </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.class_sig_item
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> class_expr </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.class_expr
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> class_str_item </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.class_str_item
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> binding </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.binding
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> rec_binding </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.rec_binding
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> module_binding </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.module_binding
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> match_case </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.match_case
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> ident </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.ident
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> rec_flag </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.rec_flag
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> direction_flag </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.direction_flag
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> mutable_flag </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.mutable_flag
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> private_flag </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.private_flag
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> virtual_flag </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.virtual_flag
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> row_var_flag </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.row_var_flag
   <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">type</span><span class="variable-name"> override_flag </span><span class="tuareg-font-lock-operator">=</span> <span class="type">M</span>.override_flag
<span class="tuareg-font-lock-operator">=</span> M<span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** Concrete definition of Camlp4 ASTs abstracted from locations.
    Since the Ast contains locations, this functor produces Ast types
    for a given location type. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="type">MakeCamlp4Ast </span><span class="tuareg-font-lock-operator">(</span><span class="variable-name">Loc</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Type</span><span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">struct</span>

  INCLUDE <span class="string">"camlp4/Camlp4/Camlp4Ast.partial.ml"</span><span class="tuareg-font-lock-operator">;</span>

<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** {6 Filters} *)</span>

<span class="doc">(** A type for stream filters. *)</span>
<span class="tuareg-font-lock-governing">type</span> <span class="type">stream_filter </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">loc </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">('</span>a <span class="tuareg-font-lock-operator">*</span> <span class="tuareg-font-lock-operator">'</span>loc<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">('</span>a <span class="tuareg-font-lock-operator">*</span> <span class="tuareg-font-lock-operator">'</span>loc<span class="tuareg-font-lock-operator">);</span>

<span class="doc">(** Registerinng and folding of Ast filters.
    Two kinds of filters must be handled:
      - Implementation filters: str_item -&gt; str_item.
      - Interface filters: sig_item -&gt; sig_item. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">AstFilters </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Ast </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Camlp4Ast</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">type</span> <span class="type">filter </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">register_sig_item_filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">filter Ast.sig_item</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">register_str_item_filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">filter Ast.str_item</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">register_topphrase_filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">filter Ast.str_item</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">fold_interf_filters</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> filter Ast.sig_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">fold_implem_filters</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> filter Ast.str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">fold_topphrase_filters</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> filter Ast.str_item </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** ASTs as one single dynamic type *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">DynAst </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Ast </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Ast</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">tag </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">ctyp_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">patt_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">expr_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_type_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.module_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sig_item_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">with_constr_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.with_constr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_expr_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.module_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">str_item_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_type_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_sig_item_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_expr_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_str_item_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.class_str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">match_case_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.match_case</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ident_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">binding_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">rec_binding_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_binding_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag Ast.module_binding</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">string_of_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Pack </span><span class="tuareg-font-lock-operator">(</span><span class="variable-name">X</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span><span class="type"> </span><span class="tuareg-font-lock-governing">type</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span> <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">pack</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">pack</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> X.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> pack</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">unpack</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">tag </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> pack </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> X.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">print_tag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> pack </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>


<span class="doc">(** {6 Quotation operations} *)</span>

<span class="doc">(** The generic quotation type.
    To see how fields are used here is an example:
       &lt;:q_name@q_loc&lt;q_contents&gt;&gt;
    The last one, q_shift is equal to the length of "&lt;:q_name@q_loc&lt;". *)</span>
<span class="tuareg-font-lock-governing">type</span> <span class="type">quotation </span><span class="tuareg-font-lock-operator">=</span>
  <span class="tuareg-font-lock-operator">{</span> <span class="variable-name">q_name</span>     <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">;</span>
    <span class="variable-name">q_loc</span>      <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">;</span>
    <span class="variable-name">q_shift</span>    <span class="tuareg-font-lock-operator">:</span> <span class="type">int    </span><span class="tuareg-font-lock-operator">;</span>
    <span class="variable-name">q_contents</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">};</span>

<span class="doc">(** The signature for a quotation expander registery. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Quotation </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Ast </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Ast</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">DynAst </span><span class="tuareg-font-lock-operator">:</span> <span class="type">DynAst </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Ast </span><span class="tuareg-font-lock-operator">=</span> Ast<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">open</span> <span class="type">Ast</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** The [loc] is the initial location. The option string is the optional name
      for the location variable. The string is the quotation contents. *)</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">expand_fun </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">=</span> loc <span class="tuareg-font-lock-operator">-&gt;</span> option string <span class="tuareg-font-lock-operator">-&gt;</span> string <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [add name exp] adds the quotation [name] associated with the
      expander [exp]. *)</span>
  value <span class="variable-name">add</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> DynAst.tag </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expand_fun </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [find name] returns the expander of the given quotation name. *)</span>
  value <span class="variable-name">find</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> DynAst.tag </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> expand_fun </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [default] holds the default quotation name. *)</span>
  value <span class="variable-name">default</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">ref</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [parse_quotation_result parse_function loc position_tag quotation quotation_result]
      It's a parser wrapper, this function handles the error reporting for you. *)</span>
  value <span class="variable-name">parse_quotation_result</span> <span class="tuareg-font-lock-operator">:</span>
    <span class="tuareg-font-lock-operator">(</span>loc <span class="tuareg-font-lock-operator">-&gt;</span> string <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> loc <span class="tuareg-font-lock-operator">-&gt;</span> quotation <span class="tuareg-font-lock-operator">-&gt;</span> string <span class="tuareg-font-lock-operator">-&gt;</span> string <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** function translating quotation names; default = identity *)</span>
  value <span class="variable-name">translate</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">ref</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">);</span>

  value <span class="variable-name">expand</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> quotation </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> DynAst.tag </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [dump_file] optionally tells Camlp4 to dump the
      result of an expander if this result is syntactically incorrect.
      If [None] (default), this result is not dumped. If [Some fname], the
      result is dumped in the file [fname]. *)</span>
  value <span class="variable-name">dump_file</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">ref</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">option string</span><span class="tuareg-font-lock-operator">);</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Error </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Error</span><span class="tuareg-font-lock-operator">;</span>

<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** {6 Tokens} *)</span>

<span class="doc">(** A signature for tokens. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Token </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Loc </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Loc</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">type</span> <span class="type">t</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">to_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">print</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">match_keyword</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">extract_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Filter </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">token_filter </span><span class="tuareg-font-lock-operator">=</span> stream_filter t <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** The type for this filter chain.
        A basic implementation just store the [is_keyword] function given
        by [mk] and use it in the [filter] function. *)</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">t</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** The given predicate function returns true if the given string
        is a keyword. This function can be used in filters to translate
        identifier tokens to keyword tokens. *)</span>
    value <span class="variable-name">mk</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** This function allows to register a new filter to the token filter chain.
        You can choose to not support these and raise an exception. *)</span>
    value <span class="variable-name">define_filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">token_filter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> token_filter</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** This function filter the given stream and return a filtered stream.
        A basic implementation just match identifiers against the [is_keyword]
        function to produce token keywords instead. *)</span>
    value <span class="variable-name">filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> token_filter</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Called by the grammar system when a keyword is used.
        The boolean argument is True when it's the first time that keyword
        is used. If you do not care about this information just return [()]. *)</span>
    value <span class="variable-name">keyword_added</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Called by the grammar system when a keyword is no longer used.
        If you do not care about this information just return [()]. *)</span>
    value <span class="variable-name">keyword_removed</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Error </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Error</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** This signature describes tokens for the Objective Caml and the Revised
    syntax lexing rules. For some tokens the data constructor holds two
    representations with the evaluated one and the source one. For example
    the INT data constructor holds an integer and a string, this string can
    contains more information that's needed for a good pretty-printing
    ("42", "4_2", "0000042", "0b0101010"...).

    The meaning of the tokens are:
-      [KEYWORD s] is the keyword [s].
-      [LIDENT s] is the ident [s] starting with a lowercase letter.
-      [UIDENT s] is the ident [s] starting with an uppercase letter.
-      [INT i s] (resp. [INT32 i s], [INT64 i s] and [NATIVEINT i s])
        the integer constant [i] whose string source is [s].
-      [FLOAT f s] is the float constant [f] whose string source is [s].
-      [STRING s s'] is the string constant [s] whose string source is [s'].
-      [CHAR c s] is the character constant [c] whose string source is [s].
-      [QUOTATION q] is a quotation [q], see {!Quotation.t} for more information.
-      [ANTIQUOT n s] is an antiquotation [n] holding the string [s].
-      [EOI] is the end of input.

     Warning: the second string associated with the constructor [STRING] is
     the string found in the source without any interpretation. In particular,
     the backslashes are not interpreted. For example, if the input is ["\n"]
     the string is *not* a string with one element containing the character
     "return", but a string of two elements: the backslash and the character
     ["n"]. To interpret a string use the first string of the [STRING]
     constructor (or if you need to compute it use the module
     {!Camlp4.Struct.Token.Eval}. Same thing for the constructor [CHAR]. *)</span>
<span class="tuareg-font-lock-governing">type</span> <span class="type">camlp4_token </span><span class="tuareg-font-lock-operator">=</span>
  <span class="tuareg-font-lock-operator">[</span> KEYWORD       <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> SYMBOL        <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> LIDENT        <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> UIDENT        <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> ESCAPED_IDENT <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> INT           <span class="tuareg-font-lock-operator">of</span> int <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
  <span class="tuareg-font-lock-operator">|</span> INT32         <span class="tuareg-font-lock-operator">of</span> int32 <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
  <span class="tuareg-font-lock-operator">|</span> INT64         <span class="tuareg-font-lock-operator">of</span> int64 <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
  <span class="tuareg-font-lock-operator">|</span> NATIVEINT     <span class="tuareg-font-lock-operator">of</span> nativeint <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
  <span class="tuareg-font-lock-operator">|</span> FLOAT         <span class="tuareg-font-lock-operator">of</span> float <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
  <span class="tuareg-font-lock-operator">|</span> CHAR          <span class="tuareg-font-lock-operator">of</span> char <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
  <span class="tuareg-font-lock-operator">|</span> STRING        <span class="tuareg-font-lock-operator">of</span> string <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
  <span class="tuareg-font-lock-operator">|</span> LABEL         <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> OPTLABEL      <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> QUOTATION     <span class="tuareg-font-lock-operator">of</span> quotation
  <span class="tuareg-font-lock-operator">|</span> ANTIQUOT      <span class="tuareg-font-lock-operator">of</span> string <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
  <span class="tuareg-font-lock-operator">|</span> COMMENT       <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> BLANKS        <span class="tuareg-font-lock-operator">of</span> string
  <span class="tuareg-font-lock-operator">|</span> NEWLINE
  <span class="tuareg-font-lock-operator">|</span> LINE_DIRECTIVE <span class="tuareg-font-lock-operator">of</span> int <span class="tuareg-font-lock-governing">and</span> <span class="function-name">option</span><span class="variable-name"> string</span>
  <span class="tuareg-font-lock-operator">|</span> EOI <span class="tuareg-font-lock-operator">];</span>

<span class="doc">(** A signature for specialized tokens. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Camlp4Token </span><span class="tuareg-font-lock-operator">=</span> Token <span class="tuareg-font-lock-governing">with type</span> <span class="type">t </span><span class="tuareg-font-lock-operator">=</span> camlp4_token<span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** {6 Dynamic loaders} *)</span>

<span class="doc">(** A signature for dynamic loaders. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">DynLoader </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
  <span class="tuareg-font-lock-governing">type</span> <span class="type">t</span><span class="tuareg-font-lock-operator">;</span>
  <span class="keyword">exception</span> <span class="variable-name">Error</span> <span class="tuareg-font-lock-operator">of</span> string <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [mk ?ocaml_stdlib ?camlp4_stdlib]
      The stdlib flag is true by default.
      To disable it use: [mk ~ocaml_stdlib:False] *)</span>
  value <span class="variable-name">mk</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">?</span><span class="type">ocaml_stdlib</span><span class="tuareg-font-lock-operator">:</span> bool <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">?</span><span class="variable-name">camlp4_stdlib</span><span class="tuareg-font-lock-operator">:</span> <span class="type">bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Fold over the current load path list. *)</span>
  value <span class="variable-name">fold_load_path</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [load f] Load the file [f]. If [f] is not an absolute path name,
      the load path list used to find the directory of [f]. *)</span>
  value <span class="variable-name">load</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [include_dir d] Add the directory [d] in the current load path
      list (like the common -I option). *)</span>
  value <span class="variable-name">include_dir</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [find_in_path f] Returns the full path of the file [f] if
      [f] is in the current load path, raises [Not_found] otherwise. *)</span>
  value <span class="variable-name">find_in_path</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** [is_native] [True] if we are in native code, [False] for bytecode. *)</span>
  value <span class="variable-name">is_native</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">bool</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** A signature for grammars. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="type">Grammar </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">struct</span>

  <span class="doc">(** Internal signature for sematantic actions of grammars,
      not for the casual user. These functions are unsafe. *)</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Action </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">type</span>  <span class="type">t    </span><span class="tuareg-font-lock-operator">;</span>

    value <span class="variable-name">mk</span>    <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type">  t</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">get</span>   <span class="tuareg-font-lock-operator">:</span>  <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">getf</span>  <span class="tuareg-font-lock-operator">:</span>  <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">);</span>
    value <span class="variable-name">getf2</span> <span class="tuareg-font-lock-operator">:</span>  <span class="type">t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c</span><span class="tuareg-font-lock-operator">);</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">type</span> <span class="type">assoc </span><span class="tuareg-font-lock-operator">=</span>
    <span class="tuareg-font-lock-operator">[</span> NonA
    <span class="tuareg-font-lock-operator">|</span> RightA
    <span class="tuareg-font-lock-operator">|</span> LeftA <span class="tuareg-font-lock-operator">];</span>

  <span class="tuareg-font-lock-governing">type</span> <span class="type">position </span><span class="tuareg-font-lock-operator">=</span>
    <span class="tuareg-font-lock-operator">[</span> First
    <span class="tuareg-font-lock-operator">|</span> Last
    <span class="tuareg-font-lock-operator">|</span> Before <span class="tuareg-font-lock-operator">of</span> string
    <span class="tuareg-font-lock-operator">|</span> After <span class="tuareg-font-lock-operator">of</span> string
    <span class="tuareg-font-lock-operator">|</span> Level <span class="tuareg-font-lock-operator">of</span> string <span class="tuareg-font-lock-operator">];</span>

  <span class="doc">(** Common signature for {!Sig.Grammar.Static} and {!Sig.Grammar.Dynamic}. *)</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Structure </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="type">Loc    </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Loc</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="type">Action </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Action</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="type">Token  </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Token </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Loc </span><span class="tuareg-font-lock-operator">=</span> Loc<span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">gram</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">internal_entry</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">tree</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">token_pattern </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-operator">((</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">-&gt;</span> bool<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">*</span> string<span class="tuareg-font-lock-operator">);</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">token_info</span><span class="tuareg-font-lock-operator">;</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">token_stream </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> token_info<span class="tuareg-font-lock-operator">);</span>

    value <span class="variable-name">token_location</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">token_info </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Loc.t</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">symbol </span><span class="tuareg-font-lock-operator">=</span>
      <span class="tuareg-font-lock-operator">[</span> Smeta <span class="tuareg-font-lock-operator">of</span> string <span class="tuareg-font-lock-governing">and</span> <span class="function-name">list</span><span class="variable-name"> symbol </span><span class="tuareg-font-lock-governing">and</span><span class="variable-name"> Action.t</span>
      <span class="tuareg-font-lock-operator">|</span> Snterm <span class="tuareg-font-lock-operator">of</span> internal_entry
      <span class="tuareg-font-lock-operator">|</span> Snterml <span class="tuareg-font-lock-operator">of</span> internal_entry <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">string</span>
      <span class="tuareg-font-lock-operator">|</span> Slist0 <span class="tuareg-font-lock-operator">of</span> symbol
      <span class="tuareg-font-lock-operator">|</span> Slist0sep <span class="tuareg-font-lock-operator">of</span> symbol <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">symbol</span>
      <span class="tuareg-font-lock-operator">|</span> Slist1 <span class="tuareg-font-lock-operator">of</span> symbol
      <span class="tuareg-font-lock-operator">|</span> Slist1sep <span class="tuareg-font-lock-operator">of</span> symbol <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">symbol</span>
      <span class="tuareg-font-lock-operator">|</span> Sopt <span class="tuareg-font-lock-operator">of</span> symbol
      <span class="tuareg-font-lock-operator">|</span> Stry <span class="tuareg-font-lock-operator">of</span> symbol
      <span class="tuareg-font-lock-operator">|</span> Sself
      <span class="tuareg-font-lock-operator">|</span> Snext
      <span class="tuareg-font-lock-operator">|</span> Stoken <span class="tuareg-font-lock-operator">of</span> token_pattern
      <span class="tuareg-font-lock-operator">|</span> Skeyword <span class="tuareg-font-lock-operator">of</span> string
      <span class="tuareg-font-lock-operator">|</span> Stree <span class="tuareg-font-lock-operator">of</span> tree <span class="tuareg-font-lock-operator">];</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">production_rule </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-operator">(</span>list symbol <span class="tuareg-font-lock-operator">*</span> <span class="type">Action</span>.t<span class="tuareg-font-lock-operator">);</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">single_extend_statment </span><span class="tuareg-font-lock-operator">=</span>
      <span class="tuareg-font-lock-operator">(</span>option string <span class="tuareg-font-lock-operator">*</span> option assoc <span class="tuareg-font-lock-operator">*</span> list production_rule<span class="tuareg-font-lock-operator">);</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">extend_statment </span><span class="tuareg-font-lock-operator">=</span>
      <span class="tuareg-font-lock-operator">(</span>option position <span class="tuareg-font-lock-operator">*</span> list single_extend_statment<span class="tuareg-font-lock-operator">);</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">delete_statment </span><span class="tuareg-font-lock-operator">=</span> list symbol<span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">fold </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">'</span><span class="type">c </span><span class="tuareg-font-lock-operator">=</span>
      internal_entry <span class="tuareg-font-lock-operator">-&gt;</span> list symbol <span class="tuareg-font-lock-operator">-&gt;</span>
        <span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c<span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">foldsep </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">'</span><span class="type">c </span><span class="tuareg-font-lock-operator">=</span>
      internal_entry <span class="tuareg-font-lock-operator">-&gt;</span> list symbol <span class="tuareg-font-lock-operator">-&gt;</span>
        <span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> unit<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">'</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c<span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Signature for Camlp4 grammars. Here the dynamic means that you can produce as
      many grammar values as needed with a single grammar module.
      If you do not need many grammar values it's preferable to use a static one. *)</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Dynamic </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">include</span> <span class="type">Structure</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Make a new grammar. *)</span>
    value <span class="variable-name">mk</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> gram</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">module</span> <span class="type">Entry </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
      <span class="doc">(** The abstract type of grammar entries. The type parameter is the type
          of the semantic actions that are associated with this entry. *)</span>
      <span class="tuareg-font-lock-governing">type</span> <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Make a new entry from the given name. *)</span>
      value <span class="variable-name">mk</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">gram </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Make a new entry from a name and an hand made token parser. *)</span>
      value <span class="variable-name">of_parser</span> <span class="tuareg-font-lock-operator">:</span>
        <span class="type">gram </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">token_stream </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Clear the entry and setup this parser instead. *)</span>
      value <span class="variable-name">setup_parser</span> <span class="tuareg-font-lock-operator">:</span>
        <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">token_stream </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Get the entry name. *)</span>
      value <span class="variable-name">name</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Print the given entry into the given formatter. *)</span>
      value <span class="variable-name">print</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Same as {!print} but show the left-factorization. *)</span>
      value <span class="variable-name">dump</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(**/**)</span>
      value <span class="variable-name">obj</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> internal_entry</span><span class="tuareg-font-lock-operator">;</span>
      value <span class="variable-name">clear</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>
      <span class="doc">(**/**)</span>
    <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** [get_filter g] Get the {!Token.Filter} associated to the [g]. *)</span>
    value <span class="variable-name">get_filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">gram </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Token.Filter.t</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">not_filtered </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** This function is called by the EXTEND ... END syntax. *)</span>
    value <span class="variable-name">extend</span>      <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> extend_statment </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** The delete rule. *)</span>
    value <span class="variable-name">delete_rule</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> delete_statment </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

    value <span class="variable-name">srules</span>      <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list </span><span class="tuareg-font-lock-operator">(</span><span class="type">list symbol </span><span class="tuareg-font-lock-operator">*</span><span class="type"> Action.t</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> symbol</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">sfold0</span>      <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> fold _ </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">sfold1</span>      <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> fold _ </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">sfold0sep</span>   <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> foldsep _ </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">;</span>
    <span class="comment">(* value sfold1sep : ('a -&gt; 'b -&gt; 'b) -&gt; 'b -&gt; foldsep _ 'a 'b; *)</span>

    <span class="doc">(** Use the lexer to produce a non filtered token stream from a char stream. *)</span>
    value <span class="variable-name">lex</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">gram </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Loc.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Stream.t char </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> not_filtered </span><span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">));</span>

    <span class="doc">(** Token stream from string. *)</span>
    value <span class="variable-name">lex_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">gram </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Loc.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> not_filtered </span><span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">));</span>

    <span class="doc">(** Filter a token stream using the {!Token.Filter} module *)</span>
    value <span class="variable-name">filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">gram </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> not_filtered </span><span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">))</span> <span class="tuareg-font-lock-operator">-&gt;</span> token_stream<span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Lex, filter and parse a stream of character. *)</span>
    value <span class="variable-name">parse</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Loc.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Stream.t char </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Same as {!parse} but from a string. *)</span>
    value <span class="variable-name">parse_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Loc.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Parse a token stream that is not filtered yet. *)</span>
    value <span class="variable-name">parse_tokens_before_filter</span> <span class="tuareg-font-lock-operator">:</span>
      <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> not_filtered </span><span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">))</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Parse a token stream that is already filtered. *)</span>
    value <span class="variable-name">parse_tokens_after_filter</span> <span class="tuareg-font-lock-operator">:</span>
      <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> token_stream </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** Signature for Camlp4 grammars. Here the static means that there is only
      one grammar value by grammar module. If you do not need to store the grammar
      value it's preferable to use a static one. *)</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Static </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">include</span> <span class="type">Structure</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">module</span> <span class="type">Entry </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-governing">sig</span>
      <span class="doc">(** The abstract type of grammar entries. The type parameter is the type
          of the semantic actions that are associated with this entry. *)</span>
      <span class="tuareg-font-lock-governing">type</span> <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Make a new entry from the given name. *)</span>
      value <span class="variable-name">mk</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Make a new entry from a name and an hand made token parser. *)</span>
      value <span class="variable-name">of_parser</span> <span class="tuareg-font-lock-operator">:</span>
        <span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">token_stream </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Clear the entry and setup this parser instead. *)</span>
      value <span class="variable-name">setup_parser</span> <span class="tuareg-font-lock-operator">:</span>
        <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">token_stream </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Get the entry name. *)</span>
      value <span class="variable-name">name</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Print the given entry into the given formatter. *)</span>
      value <span class="variable-name">print</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(** Same as {!print} but show the left-factorization. *)</span>
      value <span class="variable-name">dump</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Format.formatter </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

      <span class="doc">(**/**)</span>
      value <span class="variable-name">obj</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> internal_entry</span><span class="tuareg-font-lock-operator">;</span>
      value <span class="variable-name">clear</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>
      <span class="doc">(**/**)</span>
    <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Get the {!Token.Filter} associated to the grammar module. *)</span>
    value <span class="variable-name">get_filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Token.Filter.t</span><span class="tuareg-font-lock-operator">;</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">not_filtered </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** This function is called by the EXTEND ... END syntax. *)</span>
    value <span class="variable-name">extend</span>      <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> extend_statment </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** The delete rule. *)</span>
    value <span class="variable-name">delete_rule</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> delete_statment </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">srules</span>      <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> list </span><span class="tuareg-font-lock-operator">(</span><span class="type">list symbol </span><span class="tuareg-font-lock-operator">*</span><span class="type"> Action.t</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> symbol</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">sfold0</span>      <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> fold _ </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">sfold1</span>      <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> fold _ </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">sfold0sep</span>   <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> foldsep _ </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">;</span>
    <span class="comment">(* value sfold1sep : ('a -&gt; 'b -&gt; 'b) -&gt; 'b -&gt; foldsep _ 'a 'b; *)</span>

    <span class="doc">(** Use the lexer to produce a non filtered token stream from a char stream. *)</span>
    value <span class="variable-name">lex</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Loc.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Stream.t char </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> not_filtered </span><span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">));</span>

    <span class="doc">(** Token stream from string. *)</span>
    value <span class="variable-name">lex_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Loc.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> not_filtered </span><span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">));</span>

    <span class="doc">(** Filter a token stream using the {!Token.Filter} module *)</span>
    value <span class="variable-name">filter</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">not_filtered </span><span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">))</span> <span class="tuareg-font-lock-operator">-&gt;</span> token_stream<span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Lex, filter and parse a stream of character. *)</span>
    value <span class="variable-name">parse</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Loc.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Stream.t char </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Same as {!parse} but from a string. *)</span>
    value <span class="variable-name">parse_string</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Loc.t </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Parse a token stream that is not filtered yet. *)</span>
    value <span class="variable-name">parse_tokens_before_filter</span> <span class="tuareg-font-lock-operator">:</span>
      <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> not_filtered </span><span class="tuareg-font-lock-operator">(</span><span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">))</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Parse a token stream that is already filtered. *)</span>
    value <span class="variable-name">parse_tokens_after_filter</span> <span class="tuareg-font-lock-operator">:</span>
      <span class="type">Entry.t </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> token_stream </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** A signature for lexers. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Lexer </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Loc </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Loc</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Token </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Token </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Loc </span><span class="tuareg-font-lock-operator">=</span> Loc<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Error </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Error</span><span class="tuareg-font-lock-operator">;</span>

  <span class="doc">(** The constructor for a lexing function. The character stream is the input
      stream to be lexed. The result is a stream of pairs of a token and
      a location.
      The lexer do not use global (mutable) variables: instantiations
      of [Lexer.mk ()] do not perturb each other. *)</span>
  value <span class="variable-name">mk</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">Loc</span>.t <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Stream</span>.t char <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Stream</span>.t <span class="tuareg-font-lock-operator">(</span><span class="type">Token</span>.t <span class="tuareg-font-lock-operator">*</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">));</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>


<span class="doc">(** A signature for parsers abstract from ASTs. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="type">Parser </span><span class="tuareg-font-lock-operator">(</span><span class="variable-name">Ast</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Ast</span><span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">struct</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">SIMPLE </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
    <span class="doc">(** The parse function for expressions.
        The underlying expression grammar entry is generally "expr; EOI". *)</span>
    value <span class="variable-name">parse_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Ast.loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Ast.expr</span><span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** The parse function for patterns.
        The underlying pattern grammar entry is generally "patt; EOI". *)</span>
    value <span class="variable-name">parse_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Ast.loc </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">S </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>

    <span class="doc">(** Called when parsing an implementation (ml file) to build the syntax
        tree; the returned list contains the phrases (structure items) as a
        single "declare" node (a list of structure items);   if  the parser
        encounter a directive it stops (since the directive may change  the
        syntax), the given [directive_handler] function  evaluates  it  and
        the parsing starts again. *)</span>
    value <span class="variable-name">parse_implem</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">?</span><span class="type">directive_handler</span><span class="tuareg-font-lock-operator">:(</span><span class="type">Ast</span>.str_item <span class="tuareg-font-lock-operator">-&gt;</span> option <span class="type">Ast</span>.str_item<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span>
                        <span class="type">Ast</span>.loc <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Stream</span>.t char <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Ast</span>.str_item<span class="tuareg-font-lock-operator">;</span>

    <span class="doc">(** Same as {!parse_implem} but for interface (mli file). *)</span>
    value <span class="variable-name">parse_interf</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">?</span><span class="type">directive_handler</span><span class="tuareg-font-lock-operator">:(</span><span class="type">Ast</span>.sig_item <span class="tuareg-font-lock-operator">-&gt;</span> option <span class="type">Ast</span>.sig_item<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span>
                        <span class="type">Ast</span>.loc <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Stream</span>.t char <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">Ast</span>.sig_item<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** A signature for printers abstract from ASTs. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="type">Printer </span><span class="tuareg-font-lock-operator">(</span><span class="variable-name">Ast</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Ast</span><span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">struct</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">S </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>

    value <span class="variable-name">print_interf</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">?</span><span class="type">input_file</span><span class="tuareg-font-lock-operator">:</span>string <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">?</span><span class="variable-name">output_file</span><span class="tuareg-font-lock-operator">:</span><span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span>
                        <span class="type">Ast</span>.sig_item <span class="tuareg-font-lock-operator">-&gt;</span> unit<span class="tuareg-font-lock-operator">;</span>
    value <span class="variable-name">print_implem</span> <span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">?</span><span class="type">input_file</span><span class="tuareg-font-lock-operator">:</span>string <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">?</span><span class="variable-name">output_file</span><span class="tuareg-font-lock-operator">:</span><span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span>
                        <span class="type">Ast</span>.str_item <span class="tuareg-font-lock-operator">-&gt;</span> unit<span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** A syntax module is a sort of constistent bunch of modules and values.
   In such a module you have a parser, a printer, and also modules for
   locations, syntax trees, tokens, grammars, quotations, anti-quotations.
   There is also the main grammar entries. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Syntax </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Loc            </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Loc</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Ast            </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Ast </span><span class="tuareg-font-lock-governing">with type</span><span class="type"> loc </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Loc</span>.t<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Token          </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Token </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Loc </span><span class="tuareg-font-lock-operator">=</span> Loc<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Gram           </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Grammar.Static </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Loc </span><span class="tuareg-font-lock-operator">=</span> Loc <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">module</span><span class="variable-name"> Token </span><span class="tuareg-font-lock-operator">=</span> Token<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Quotation      </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Quotation </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Ast </span><span class="tuareg-font-lock-operator">=</span> Ast<span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">AntiquotSyntax </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Parser Ast</span><span class="tuareg-font-lock-operator">)</span><span class="type">.SIMPLE</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">include</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Warning Loc</span><span class="tuareg-font-lock-operator">)</span><span class="type">.S</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">include</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Parser  Ast</span><span class="tuareg-font-lock-operator">)</span><span class="type">.S</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">include</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Printer Ast</span><span class="tuareg-font-lock-operator">)</span><span class="type">.S</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** A syntax module is a sort of constistent bunch of modules and values.
    In such a module you have a parser, a printer, and also modules for
    locations, syntax trees, tokens, grammars, quotations, anti-quotations.
    There is also the main grammar entries. *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">Camlp4Syntax </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">sig</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Loc            </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Loc</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Ast            </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Camlp4Ast </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Loc </span><span class="tuareg-font-lock-operator">=</span> Loc<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Token          </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Camlp4Token </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Loc </span><span class="tuareg-font-lock-operator">=</span> Loc<span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">Gram           </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Grammar.Static </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Loc </span><span class="tuareg-font-lock-operator">=</span> Loc <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">module</span><span class="variable-name"> Token </span><span class="tuareg-font-lock-operator">=</span> Token<span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">module</span> <span class="type">Quotation      </span><span class="tuareg-font-lock-operator">:</span> <span class="type">Quotation </span><span class="tuareg-font-lock-governing">with module</span><span class="type"> Ast </span><span class="tuareg-font-lock-operator">=</span> Camlp4AstToAst Ast<span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">module</span> <span class="type">AntiquotSyntax </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Parser Ast</span><span class="tuareg-font-lock-operator">)</span><span class="type">.SIMPLE</span><span class="tuareg-font-lock-operator">;</span>

  <span class="tuareg-font-lock-governing">include</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Warning Loc</span><span class="tuareg-font-lock-operator">)</span><span class="type">.S</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">include</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Parser  Ast</span><span class="tuareg-font-lock-operator">)</span><span class="type">.S</span><span class="tuareg-font-lock-operator">;</span>
  <span class="tuareg-font-lock-governing">include</span> <span class="tuareg-font-lock-operator">(</span><span class="type">Printer Ast</span><span class="tuareg-font-lock-operator">)</span><span class="type">.S</span><span class="tuareg-font-lock-operator">;</span>

  value <span class="variable-name">interf</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">list Ast.sig_item </span><span class="tuareg-font-lock-operator">*</span><span class="type"> option Loc.t</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">implem</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">list Ast.str_item </span><span class="tuareg-font-lock-operator">*</span><span class="type"> option Loc.t</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">top_phrase</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">option Ast.str_item</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">use_file</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">list Ast.str_item </span><span class="tuareg-font-lock-operator">*</span><span class="type"> option Loc.t</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">a_CHAR</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_FLOAT</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_INT</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_INT32</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_INT64</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_LABEL</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_LIDENT</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_NATIVEINT</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_OPTLABEL</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_STRING</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_UIDENT</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">a_ident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">amp_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">and_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">match_case</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.match_case</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">match_case0</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.match_case</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">match_case_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.match_case</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">binding_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">rec_binding_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_declaration</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_description</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_expr_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_fun_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_fun_def</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_info_for_class_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_info_for_class_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_longident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_longident_and_param</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_name_and_param</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">string </span><span class="tuareg-font-lock-operator">*</span><span class="type"> Ast.ctyp</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">class_sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_sig_item_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_signature</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_str_item_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_structure</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_type_declaration</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_type_longident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_type_longident_and_param</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_type_plus</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">class_type_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.class_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">comma_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">comma_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">comma_ipatt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">comma_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">comma_type_parameter</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">constrain</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">Ast.ctyp </span><span class="tuareg-font-lock-operator">*</span><span class="type"> Ast.ctyp</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">constructor_arg_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">constructor_declaration</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">constructor_declarations</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ctyp_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">cvalue_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">direction_flag</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.direction_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">direction_flag_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.direction_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">dummy</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t unit</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">eq_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">string </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Ast.patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Ast.patt</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">expr_eoi</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">expr_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">field_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">field_expr_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">fun_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">fun_def</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ident_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ipatt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">ipatt_tcon</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_declaration</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_declaration_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_expr_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.rec_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_ipatt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_ipatt_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_longident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">label_patt_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">labeled_ipatt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">let_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">meth_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">Ast.ctyp </span><span class="tuareg-font-lock-operator">*</span><span class="type"> Ast.row_var_flag</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">meth_decl</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_binding</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_binding0</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_binding_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_declaration</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_expr_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_longident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_longident_with_app</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_rec_declaration</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_binding</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">package_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">module_type_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.module_type</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">more_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">name_tags</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_as_lident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t string</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_class_self_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_class_self_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_comma_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_dot_dot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.row_var_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">row_var_flag_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.row_var_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_eq_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_meth_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_mutable</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.mutable_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">mutable_flag_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.mutable_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_override</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.override_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">override_flag_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.override_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_polyt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_private</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.private_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">private_flag_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.private_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_rec</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.rec_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">rec_flag_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.rec_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_virtual</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.virtual_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">virtual_flag_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.virtual_flag</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">opt_when_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">patt_as_patt_opt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">patt_eoi</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">patt_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">patt_tcon</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">phrase</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">poly_type</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">row_field</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sem_expr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sem_expr_for_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">Ast.expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Ast.expr</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">sem_patt</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.patt</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sem_patt_for_list</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">Ast.patt </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Ast.patt</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">semi</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t unit</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sequence</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">do_sequence</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sig_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sig_item_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">sig_items</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.sig_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">star_ctyp</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">str_item</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">str_item_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">str_items</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.str_item</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">type_constraint</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t unit</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">type_declaration</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">type_ident_and_parameters</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">string </span><span class="tuareg-font-lock-operator">*</span><span class="type"> list Ast.ctyp</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">type_kind</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">type_longident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">type_longident_and_parameters</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">type_parameter</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">type_parameters</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t </span><span class="tuareg-font-lock-operator">(</span><span class="type">Ast.ctyp </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> Ast.ctyp</span><span class="tuareg-font-lock-operator">);</span>
  value <span class="variable-name">typevars</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ctyp</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">val_longident</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.ident</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">value_let</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t unit</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">value_val</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t unit</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">with_constr</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.with_constr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">with_constr_quot</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.with_constr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">prefixop</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">infixop0</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">infixop1</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">infixop2</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">infixop3</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
  value <span class="variable-name">infixop4</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Gram.Entry.t Ast.expr</span><span class="tuareg-font-lock-operator">;</span>
<span class="tuareg-font-lock-governing">end</span><span class="tuareg-font-lock-operator">;</span>

<span class="doc">(** A signature for syntax extension (syntax -&gt; syntax functors). *)</span>
<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">SyntaxExtension </span><span class="tuareg-font-lock-operator">=</span> <span class="tuareg-font-lock-governing">functor</span> <span class="tuareg-font-lock-operator">(</span><span class="variable-name">Syn</span> <span class="tuareg-font-lock-operator">:</span> <span class="type">Syntax</span><span class="tuareg-font-lock-operator">)</span>
                    <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">(</span>Syntax <span class="tuareg-font-lock-governing">with module</span> <span class="type">Loc            </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Syn</span>.Loc
                                <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">module</span><span class="variable-name"> Ast            </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Syn</span>.Ast
                                <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">module</span><span class="variable-name"> Token          </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Syn</span>.Token
                                <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">module</span><span class="variable-name"> Gram           </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Syn</span>.Gram
                                <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-governing">module</span><span class="variable-name"> Quotation      </span><span class="tuareg-font-lock-operator">=</span> <span class="type">Syn</span>.Quotation<span class="tuareg-font-lock-operator">);</span>
</pre>
  </body>
</html>
